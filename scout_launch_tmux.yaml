session_name: aigc_launch

environment:
  WS_PATH: /home/costar/subt_ws/src/husky_core/localizer_lamp/
  DATA_PATH: /media/data/husky2_2019-12-23-15-58-00_b198_t1_game/
  LOG_PATH: rosbag/
  ROBOT_NAME: husky2
  BASE_NAME: base1
  DELAY: "2"
  RATE: "1.0"
  SESSION_NAME: 2021-10-15_2122_01
  SET_NUM: set3

options:
  default-command: /bin/bash

windows:
- window_name: lamp
  focus: true
  layout: tiled
  #shell_command_before:
  #  - rosparam set /use_sim_time true
  panes:
    # - roscore
    - sleep 3; roslaunch teraranger evo.launch
    - sleep 3; roslaunch mavros_control px4.launch
    - sleep 9; roslaunch tf_listener tf.launch
    - sleep 3; roslaunch cartographer_ros stix.launch
    - sleep 3; roslaunch distance_map distance_map.launch
    - sleep 3; roslaunch offboard_drone offboard.launch
    - sleep 3; roscd kaist_rosbag/bags; mkdir ${SET_NUM}_${SESSION_NAME}; roslaunch kaist_rosbag kaist_rosbag.launch record_folder:=${SET_NUM}_${SESSION_NAME}
    - sleep 3; roslaunch astar astar.launch
    - sleep 3; roslaunch mission_planner mission_planner_csv.launch mission_file:=mission_${SET_NUM}.csv
    - sleep 70; cd /home/iitp00/flight_record/audio; arecord -t wav -c 8 -D plughw:2,0 -f S32_LE -r 48000 flight_audio_${SET_NUM}_${SESSION_NAME}.wav
